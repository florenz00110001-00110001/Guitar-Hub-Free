<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guitar Hub Trainer</title>
<style>
  /* Global Styles */
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #111;
    color: white;
    text-align: center;
  }
  header {
    width: 100%;
    background: #000;
    padding: 10px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed;
    top: 0;
    z-index: 1000;
  }
  .logo {
    font-weight: bold;
    font-size: 1.6em;
    color: orange;
  }
  button, input, select {
    padding: 8px;
    margin: 5px;
    border-radius: 6px;
    border: none;
    font-size: 1em;
    cursor: pointer;
  }
  button.orange {
    background-color: orange;
    color: black;
  }
  .hidden { display: none; }
  .chord-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    padding: 10px;
  }
  .chord-card {
    background: #222;
    padding: 10px;
    border-radius: 8px;
    width: 100px;
    color: white;
  }
  .chord-card img { width: 80px; height: auto; }
  ul { list-style: none; padding: 0; }
  li { padding: 5px; margin: 3px; background: #222; border-radius: 6px; cursor: pointer; }
  iframe { width: 100%; height: 400px; border: 0; margin-top: 10px; }

  /* Login Styles */
  #intro-screen input { width: 200px; }
  #toggle-pass { position: absolute; right: 5px; top: 5px; padding: 5px; cursor: pointer; }

  /* Responsive */
  @media screen and (max-width: 600px){
    .chord-card { width: 80px; }
    #intro-screen input { width: 140px; }
  }
</style>
</head>
<body>
<header>
  <div class="logo">Guitar Hub</div>
  <!-- Burger only in main menu -->
  <button id="burger-btn" class="hidden">&#9776;</button>
</header>

<main style="padding-top:80px;">
<div id="intro-screen">
  <h1>Welcome</h1>
  <input type="text" id="username" placeholder="Username"><br>
  <div style="position:relative;display:inline-block;">
    <input type="password" id="password" placeholder="Password">
    <button id="toggle-pass">üëÅÔ∏è</button>
  </div><br>
  <button id="login-btn" class="orange">Log In</button>
  <button id="create-acc-btn" class="orange">Create Account</button>
  <button id="continue-btn" class="orange">Continue Without Account</button>
</div>

<div id="main-menu" class="hidden">
  <h2>Main Menu</h2>
  <button id="view-chords-btn" class="orange">View Chords</button>
  <button id="practice-btn" class="orange">Practice Chords</button>
  <button id="strum-btn" class="orange">Practice Strum</button>
  <button id="chord-quiz-btn" class="orange">Chord Recognition</button>
  <button id="learn-song-btn" class="orange">Learn Song</button>
  <button id="dark-mode-btn" class="orange">Toggle Dark Mode</button>
</div>

<script>
let currentUser=null;
let users=JSON.parse(localStorage.getItem("guitarUsers"))||{};
const chords=["C","D","E","F","G","A","B","Am","Dm","Em"];

// --- Login & Account ---
document.getElementById("toggle-pass").onclick=()=> {
  const p=document.getElementById("password");
  p.type = p.type==="password"?"text":"password";
};
document.getElementById("login-btn").onclick=()=>{
  const u=document.getElementById("username").value.trim();
  const p=document.getElementById("password").value.trim();
  if(!u||!p){alert("Enter username & password"); return;}
  if(users[u] && users[u].password===p){currentUser=u; alert("Logged in"); showMenu();}
  else alert("Invalid username or password");
};
document.getElementById("create-acc-btn").onclick=()=>{
  const u=document.getElementById("username").value.trim();
  const p=document.getElementById("password").value.trim();
  if(!u||!p){alert("Enter username & password"); return;}
  if(users[u]){alert("Account exists"); return;}
  users[u]={password:p,lastScore:0};
  localStorage.setItem("guitarUsers",JSON.stringify(users));
  currentUser=u;
  alert("Account created");
  showMenu();
};
document.getElementById("continue-btn").onclick=()=>{
  currentUser="Guest";
  showMenu();
};
function showMenu(){
  document.getElementById("intro-screen").classList.add("hidden");
  document.getElementById("main-menu").classList.remove("hidden");
  document.getElementById("burger-btn").classList.remove("hidden");
}

// --- Dark Mode Toggle ---
document.getElementById("dark-mode-btn").onclick=()=>{
  if(document.body.style.background==="#111"){
    document.body.style.background="#fff"; document.body.style.color="#000";
  } else {
    document.body.style.background="#111"; document.body.style.color="#fff";
  }
}
</script>
</body>
</html>
<!-- Part 2/10: Chords Grid + Practice Chords -->
<div id="chords" class="hidden">
  <h2>Chords</h2>
  <div class="chord-grid" id="chord-grid"></div>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<div id="practice" class="hidden">
  <h2>Practice Chords</h2>
  <div id="practice-display" style="font-size:2em;"></div>
  <button id="next-practice" class="orange">Next</button>
  <p id="practice-feedback"></p>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<script>
// --- Populate Chord Grid ---
function populateChordGrid() {
  const grid = document.getElementById("chord-grid");
  grid.innerHTML = "";
  const chords = ["C","D","E","F","G","A","B","Am","Dm","Em"];
  chords.forEach(c => {
    const div = document.createElement("div");
    div.className = "chord-card";
    div.innerHTML = `<img src="image/${c.toLowerCase()}.png" alt="${c}"><br>${c}`;
    grid.appendChild(div);
  });
}

// --- Practice Chords ---
let practiceIndex = 0;
function nextPractice() {
  const chords = ["C","D","E","F","G","A","B","Am","Dm","Em"];
  practiceIndex = Math.floor(Math.random() * chords.length);
  document.getElementById("practice-display").textContent = chords[practiceIndex];
  document.getElementById("practice-feedback").textContent = "";
}

document.getElementById("practice-btn").onclick = () => {
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("practice").classList.remove("hidden");
  nextPractice();
};
document.getElementById("next-practice").onclick = nextPractice;

// --- Initialize Chords Grid ---
document.getElementById("view-chords-btn").onclick = () => {
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("chords").classList.remove("hidden");
  populateChordGrid();
};
</script>
<!-- Part 3/10: Strum Practice + Learn Song (Full Lyrics) -->
<div id="strum" class="hidden">
  <h2>Strum Practice</h2>
  <input type="text" id="song-search" placeholder="Search songs..." oninput="filterSongs()"><br>
  <select id="song-select" onchange="updateSongPattern()"></select><br>
  <p id="song-pattern"></p>
  <button id="random-song" class="orange">Random Song</button>
  <button id="play-guitar-sound" class="orange">Guitar Sound Test</button>
  <p id="strum-feedback"></p>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<div id="learn-song" class="hidden">
  <h2>Learn Song</h2>
  <p id="learn-song-name"></p>
  <div id="learn-chords" style="white-space: pre;"></div>
  <div id="learn-lyrics" style="white-space: pre-wrap;"></div>
  <div id="learn-pattern"></div>
  <iframe id="song-iframe" src="" style="width:100%;height:300px;border:0;"></iframe>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<script>
// --- Song Data with Full Lyrics (5 example songs, full)
const songs = [
  {
    name:"Anak",
    pattern:"D D U U D U",
    lyrics:`[Verse 1]
C               G
Nang isilang ka sa mundong ito
Am              Em
Laking tuwa ng magulang mo
C               G
At ang kamay mo'y kanyang kamay
Am              Em
Habang siya'y ginagabay

[Chorus]
C               G
Anak, 'wag mong kalimutan
Am              Em
Ang mga aral na itinuro
C               G
Anak, sa bawat hakbang mo
Am              Em
Pag-ibig namin ay laging nariyan

[Verse 2]
C               G
Lumaki ka na, mundo'y tinatahak
Am              Em
Maraming pagsubok na iyong haharapin
C               G
Huwag kang matakot, lagi kaming narito
Am              Em
Tangan ang pagmamahal na walang kapantay`,

    url:"https://www.songsterr.com/a/wa/song/44251"
  },
  {
    name:"Buwan",
    pattern:"D U D U D U",
    lyrics:`[Verse 1]
F        C
Buwan, buwan
Dm       Bb
Ikaw ang liwanag
F        C
Ng aking gabi
Dm       Bb
Tangan ang pangarap

[Chorus]
F        C
Buwan, ikaw ang tala
Dm       Bb
Sa aking madilim na mundo
F        C
Buwan, gabay sa akin
Dm       Bb
Pagmamahal mo'y tunay

[Verse 2]
F        C
Sa bawat gabi na ika'y nakatanaw
Dm       Bb
Ang puso ko'y napapawi ang takot
F        C
Buwan, ikaw ang aking inspirasyon
Dm       Bb
Sa bawat hakbang, ikaw ang gabay`,

    url:"https://www.songsterr.com/a/wa/song/123456"
  },
  {
    name:"Tadhana",
    pattern:"D D D D",
    lyrics:`[Verse 1]
G      D
Tadhana, ooh
Em      C
Ikaw ang dahilan
G      D
Bakit ako'y nagmahal
Em      C
Ng buong puso

[Chorus]
G      D
Tadhana, 'di mo maiiwasan
Em      C
Bakit tayo'y nagtagpo
G      D
Kahit na ang mundo'y malawak
Em      C
Pag-ibig natin ay nakatakda

[Verse 2]
G      D
Nandiyan ka sa aking bawat araw
Em      C
Sa tadhana'y tayo'y nagtagpo
G      D
Hindi ko na kailangan pang hanapin
Em      C
Dahil ikaw na ang aking lahat`,

    url:"https://www.songsterr.com/a/wa/song/654321"
  },
  {
    name:"Hawak Kamay",
    pattern:"U D U D U D",
    lyrics:`[Verse 1]
C       G
Hawak kamay, di kita iiwan
Am      Em
Sa bawat laban, tayo'y magkasama
C       G
Huwag kang matakot, ako'y narito
Am      Em
Buo ang suporta ko sa'yo

[Chorus]
C       G
Hawak kamay, sabay nating tatahakin
Am      Em
Ang landas ng ating mga pangarap
C       G
Hawak kamay, di mag-iisa
Am      Em
Pagmamahalan natin ay tunay

[Verse 2]
C       G
Sa bawat unos, sa bawat bagyo
Am      Em
Ang ating puso ay di matitinag
C       G
Hawak kamay, di ka nag-iisa
Am      Em
Ako'y narito, kasama mo`,

    url:"https://www.songsterr.com/a/wa/song/987654"
  },
  {
    name:"Ikaw",
    pattern:"D U U D U D",
    lyrics:`[Verse 1]
Am       F
Ikaw ang lahat ng aking hinintay
C        G
Sa bawat sandali, ikaw ang laman ng puso
Am       F
Di ko na kailangan pang maghanap
C        G
Dahil sa'yo ako'y kumpleto na

[Chorus]
Am       F
Ikaw, ikaw ang aking tadhana
C        G
Pag-ibig natin ay wagas at totoo
Am       F
Ikaw, sa bawat pintig ng puso
C        G
Ikaw lamang ang aking sinta

[Verse 2]
Am       F
Sa bawat umaga at bawat gabi
C        G
Pangako ko, di ka iiwan
Am       F
Ikaw ang dahilan ng bawat ngiti
C        G
Sa akin, ikaw lang ang mahal`,

    url:"https://www.songsterr.com/a/wa/song/112233"
  }
];

// --- Populate Song Select ---
function populateSongSelect(){
  const sel=document.getElementById("song-select");
  sel.innerHTML="";
  songs.forEach((s,i)=>{
    let o=document.createElement("option");
    o.value=i;
    o.textContent=s.name;
    o.setAttribute("data-pattern",s.pattern);
    sel.appendChild(o);
  });
  updateSongPattern();
}

// --- Update Song Pattern ---
function updateSongPattern(){
  let idx=document.getElementById("song-select").value;
  let song=songs[idx];
  document.getElementById("song-pattern").textContent="Strum Pattern: "+song.pattern;
}

// --- Random Song ---
document.getElementById("random-song").onclick=()=>{
  let i=Math.floor(Math.random()*songs.length);
  document.getElementById("song-select").value=i;
  updateSongPattern();
}

// --- Filter Songs ---
function filterSongs(){
  let term=document.getElementById("song-search").value.toLowerCase();
  const sel=document.getElementById("song-select");
  sel.innerHTML="";
  songs.filter(s=>s.name.toLowerCase().includes(term))
       .forEach((s,i)=>{
          let o=document.createElement("option");
          o.value=i;
          o.textContent=s.name;
          o.setAttribute("data-pattern",s.pattern);
          sel.appendChild(o);
       });
  updateSongPattern();
}

// --- Guitar Sound Test Placeholder ---
document.getElementById("play-guitar-sound").onclick=()=>{
  alert("Guitar sound test coming soon!");
}

// --- Learn Song ---
document.getElementById("learn-song-btn").onclick=()=>{
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("learn-song").classList.remove("hidden");
  let idx=document.getElementById("song-select").value;
  let song=songs[idx];
  document.getElementById("learn-song-name").textContent="Song: "+song.name;
  document.getElementById("learn-chords").innerHTML="<pre>"+chords.join(" ")+"</pre>";
  document.getElementById("learn-lyrics").textContent=song.lyrics;
  document.getElementById("learn-pattern").textContent="Strum: "+song.pattern;
  document.getElementById("song-iframe").src=song.url;
}
</script>
<!-- Part 4: Learn Song + More Songs Button -->
<div id="learn-song" class="hidden">
  <h2>Learn Song</h2>
  <p id="learn-song-name"></p>
  <div id="learn-chords" style="white-space: pre;"></div>
  <div id="learn-lyrics" style="white-space: pre-wrap;"></div>
  <div id="learn-pattern"></div>
  <iframe id="song-iframe" src="" style="width:100%;height:300px;border:0;"></iframe>

  <!-- More Songs Button -->
  <button id="more-songs" class="orange">Want More Songs? Download "Tabs" App</button>

  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<script>
// Open external tabs app for more songs
document.getElementById("more-songs").onclick = () => {
  window.open("https://www.example-tabs-app.com", "_blank");
}

// Learn Song Logic
document.getElementById("learn-song-btn").onclick = () => {
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("learn-song").classList.remove("hidden");
  
  let idx = document.getElementById("song-select").value;
  let song = songs[idx]; // songs array from previous part
  
  document.getElementById("learn-song-name").textContent = "Song: " + song.name;
  document.getElementById("learn-chords").textContent = song.chords || chords.join(" ");
  document.getElementById("learn-lyrics").textContent = song.lyrics;
  document.getElementById("learn-pattern").textContent = "Strum: " + song.pattern;
  document.getElementById("song-iframe").src = song.url;
};
</script>
<!-- Part 4/Chunk 1: Strum Practice, Dark Mode, Burger HUD -->
<div id="strum" class="hidden">
  <h2>Strum Practice</h2>
  <input type="text" id="song-search" placeholder="Search Philippine songs..." oninput="filterSongs()"><br>
  <select id="song-select" onchange="updateSongPattern()"></select><br>
  <p id="song-pattern"></p>
  <button id="random-song" class="orange">Random Song</button>
  <button id="play-guitar-sound" class="orange">Guitar Sound Test</button>
  <p id="strum-feedback"></p>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<!-- Dark Mode Toggle -->
<button id="dark-mode-toggle" class="orange" style="position:fixed;bottom:10px;right:10px;">Toggle Dark Mode</button>

<!-- Burger HUD -->
<div id="burger-hud" class="hidden" style="position:fixed;top:60px;right:0;background:#222;color:white;padding:10px;width:200px;border-radius:0 0 0 10px;z-index:1000;">
  <h4>HUD</h4>
  <p>Quiz Score: <span id="hud-score">0</span></p>
  <p>Accuracy: <span id="hud-accuracy">0%</span></p>
  <button onclick="document.getElementById('burger-hud').classList.add('hidden')" class="orange">Close</button>
</div>

<script>
// --- Songs for Strum Practice ---
const strumSongs = [
  {name:"Anak", pattern:"D D U U D U"},
  {name:"Buwan", pattern:"D U D U D U"},
  {name:"Tadhana", pattern:"D D D D"},
  {name:"Hawak Kamay", pattern:"U D U D U D"},
  {name:"Ikaw", pattern:"D U U D U D"},
  {name:"Tagpuan", pattern:"D D U D U"},
  {name:"Kung Ako Na Lang Sana", pattern:"D D U D U D"},
  {name:"Huwag Ka Lang Mawawala", pattern:"U D U D"},
  {name:"Pusong Ligaw", pattern:"D U D U"},
  {name:"Bakit Pa?", pattern:"D D U D"},
  {name:"Mundo", pattern:"U D U D"},
  {name:"Sa‚Äôyo", pattern:"D D U D U"},
  {name:"Mahal Ko o Mahal Ako", pattern:"D U D U D U"},
  {name:"Sana", pattern:"D D U U D U"},
  {name:"Torete", pattern:"D U D U"},
  {name:"Hanggang Kailan", pattern:"D D U D"},
  {name:"Nadarang", pattern:"U D U D"},
  {name:"Paubaya", pattern:"D U D U D"},
  {name:"Huling Sayaw", pattern:"D D U D"},
  {name:"Di Na Muli", pattern:"D U D U"}
];

// --- Populate Song Select ---
function populateSongSelect(){
  const sel=document.getElementById("song-select");
  sel.innerHTML="";
  strumSongs.forEach((s,i)=>{
    let o=document.createElement("option");
    o.value=i;
    o.textContent=s.name;
    o.setAttribute("data-pattern",s.pattern);
    sel.appendChild(o);
  });
  updateSongPattern();
}

// --- Update Song Pattern ---
function updateSongPattern(){
  let idx=document.getElementById("song-select").value;
  let song=strumSongs[idx];
  document.getElementById("song-pattern").textContent="Strum Pattern: "+song.pattern;
}

// --- Random Song ---
document.getElementById("random-song").onclick=()=>{
  let i=Math.floor(Math.random()*strumSongs.length);
  document.getElementById("song-select").value=i;
  updateSongPattern();
}

// --- Filter Songs ---
function filterSongs(){
  let term=document.getElementById("song-search").value.toLowerCase();
  const sel=document.getElementById("song-select");
  sel.innerHTML="";
  strumSongs.filter(s=>s.name.toLowerCase().includes(term))
       .forEach((s,i)=>{
          let o=document.createElement("option");
          o.value=i;
          o.textContent=s.name;
          o.setAttribute("data-pattern",s.pattern);
          sel.appendChild(o);
       });
  updateSongPattern();
}

// --- Guitar Sound Test ---
document.getElementById("play-guitar-sound").onclick=()=>{
  alert("Guitar sound test coming soon!");
}

// --- Dark Mode Toggle ---
document.getElementById("dark-mode-toggle").onclick=()=>{
  document.body.classList.toggle("dark-mode");
}
</script>

<style>
/* Dark Mode CSS */
body.dark-mode{
  background:#111;
  color:white;
}
body.dark-mode header{
  background:#000;
}
body.dark-mode .chord-card{
  background:#222;
}
body.dark-mode select,input,button{
  background:#333;
  color:white;
}
</style>
<!-- Part 4 Chunk 2: Learn Song + Tabs link -->
<div id="learn-song" class="hidden">
  <h2>Learn Song</h2>
  <p id="learn-song-name"></p>
  <div id="learn-chords"></div>
  <div id="learn-lyrics" style="white-space: pre-wrap;"></div>
  <div id="learn-pattern"></div>
  <iframe id="song-iframe" src="" style="width:100%;height:400px;border:0;"></iframe>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
  <br><br>
  <button onclick="window.open('https://tabsapp.com', '_blank')" class="orange">
    Want more songs? Download Tabs app
  </button>
</div>

<script>
// --- Learn Song Handler ---
document.getElementById("learn-song-btn").onclick = () => {
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("learn-song").classList.remove("hidden");

  let idx = document.getElementById("song-select").value;
  let song = songs[idx];

  document.getElementById("learn-song-name").textContent = "Song: " + song.name;
  document.getElementById("learn-chords").innerHTML = "<pre>" + chords.join(" ") + "</pre>";

  // Show only the portion of lyrics in-app, full lyrics can be accessed via Tabs
  document.getElementById("learn-lyrics").textContent = song.lyrics;

  document.getElementById("learn-pattern").textContent = "Strum: " + song.pattern;
  document.getElementById("song-iframe").src = song.url;
}
</script>
<!-- Part 5: Strum Practice -->
<div id="strum" class="hidden">
  <h2>Strum Practice</h2>
  <input type="text" id="song-search" placeholder="Search songs..." oninput="filterSongs()"><br>
  <select id="song-select" onchange="updateSongPattern()"></select><br>
  <p id="song-pattern"></p>
  <button id="random-song" class="orange">Random Song</button>
  <button id="play-guitar-sound" class="orange">Guitar Sound Test</button>
  <p id="strum-feedback"></p>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<script>
// --- Strum Practice Songs ---
const strumSongs = [
  {name:"Anak", pattern:"D D U U D U", url:"https://www.songsterr.com/a/wa/song/44251"},
  {name:"Buwan", pattern:"D U D U D U", url:"https://www.songsterr.com/a/wa/song/123456"},
  {name:"Tadhana", pattern:"D D D D", url:"https://www.songsterr.com/a/wa/song/654321"},
  {name:"Hawak Kamay", pattern:"U D U D U D", url:"https://www.songsterr.com/a/wa/song/987654"},
  {name:"Ikaw", pattern:"D U U D U D", url:"https://www.songsterr.com/a/wa/song/112233"},
  {name:"Tagpuan", pattern:"D D U D U", url:"https://www.songsterr.com/a/wa/song/445566"},
  {name:"Kung Ako Na Lang Sana", pattern:"D D U D U D", url:"https://www.songsterr.com/a/wa/song/556677"},
  {name:"Huwag Ka Lang Mawawala", pattern:"U D U D", url:"https://www.songsterr.com/a/wa/song/667788"},
  {name:"Pusong Ligaw", pattern:"D U D U", url:"https://www.songsterr.com/a/wa/song/778899"},
  {name:"Bakit Pa?", pattern:"D D U D", url:"https://www.songsterr.com/a/wa/song/889900"},
  {name:"Mundo", pattern:"U D U D", url:"https://www.songsterr.com/a/wa/song/990011"},
  {name:"Sa‚Äôyo", pattern:"D D U D U", url:"https://www.songsterr.com/a/wa/song/101112"},
  {name:"Mahal Ko o Mahal Ako", pattern:"D U D U D U", url:"https://www.songsterr.com/a/wa/song/121314"},
  {name:"Sana", pattern:"D D U U D U", url:"https://www.songsterr.com/a/wa/song/131415"},
  {name:"Torete", pattern:"D U D U", url:"https://www.songsterr.com/a/wa/song/141516"},
  {name:"Hanggang Kailan", pattern:"D D U D", url:"https://www.songsterr.com/a/wa/song/151617"},
  {name:"Nadarang", pattern:"U D U D", url:"https://www.songsterr.com/a/wa/song/161718"},
  {name:"Paubaya", pattern:"D U D U D", url:"https://www.songsterr.com/a/wa/song/171819"},
  {name:"Huling Sayaw", pattern:"D D U D", url:"https://www.songsterr.com/a/wa/song/192021"},
  {name:"Di Na Muli", pattern:"D U D U", url:"https://www.songsterr.com/a/wa/song/202122"}
];

// --- Populate Song Select ---
function populateSongSelect() {
  const sel = document.getElementById("song-select");
  sel.innerHTML = "";
  strumSongs.forEach((s, i) => {
    let o = document.createElement("option");
    o.value = i;
    o.textContent = s.name;
    o.setAttribute("data-pattern", s.pattern);
    sel.appendChild(o);
  });
  updateSongPattern();
}

// --- Update Song Pattern ---
function updateSongPattern() {
  let idx = document.getElementById("song-select").value;
  let song = strumSongs[idx];
  document.getElementById("song-pattern").textContent = "Strum Pattern: " + song.pattern;
}

// --- Random Song ---
document.getElementById("random-song").onclick = () => {
  let i = Math.floor(Math.random() * strumSongs.length);
  document.getElementById("song-select").value = i;
  updateSongPattern();
}

// --- Filter Songs ---
function filterSongs() {
  let term = document.getElementById("song-search").value.toLowerCase();
  const sel = document.getElementById("song-select");
  sel.innerHTML = "";
  strumSongs.filter(s => s.name.toLowerCase().includes(term))
           .forEach((s, i) => {
             let o = document.createElement("option");
             o.value = i;
             o.textContent = s.name;
             o.setAttribute("data-pattern", s.pattern);
             sel.appendChild(o);
           });
  updateSongPattern();
}

// --- Guitar Sound Test ---
document.getElementById("play-guitar-sound").onclick = () => {
  alert("Guitar sound test coming soon!");
}

// --- Show Strum Practice ---
document.getElementById("strum-btn").onclick = () => {
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("strum").classList.remove("hidden");
  populateSongSelect();
}
  <!-- Part 6: Chord Recognition & Quiz HUD -->
<div id="chord-quiz" class="hidden">
  <h2>Chord Recognition Quiz</h2>
  <div id="quiz-display" style="font-size:2em;margin:10px;"></div>
  <div id="quiz-choices" class="chord-grid"></div>
  <div id="quiz-hud" style="margin-top:10px;">
    <span id="quiz-score-display">Score: 0</span> |
    <span id="quiz-accuracy-display">Accuracy: 0%</span>
  </div>
  <button onclick="goBack()" class="orange" style="margin-top:10px;">‚¨Ö Back</button>
</div>

<script>
// --- Chord Quiz ---
let quizScore = 0, quizQ = 0, totalQ = 10;

function startQuiz() {
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("chord-quiz").classList.remove("hidden");
  quizScore = 0;
  quizQ = 0;
  nextQuiz();
}

function nextQuiz() {
  if (quizQ >= totalQ) {
    updateHUD();
    document.getElementById("quiz-display").textContent = "Quiz Complete! Score: " + quizScore + "/" + totalQ;
    document.getElementById("quiz-choices").innerHTML = "";
    return;
  }

  let correct = chords[Math.floor(Math.random() * chords.length)];
  document.getElementById("quiz-display").textContent = correct;

  let choices = new Set([correct]);
  while (choices.size < 4) {
    choices.add(chords[Math.floor(Math.random() * chords.length)]);
  }

  let shuffled = [...choices].sort(() => Math.random() - 0.5);
  const container = document.getElementById("quiz-choices");
  container.innerHTML = "";

  shuffled.forEach(c => {
    let b = document.createElement("button");
    b.textContent = c;
    b.onclick = () => {
      if (c === correct) quizScore++;
      quizQ++;
      updateHUD();
      nextQuiz();
    };
    container.appendChild(b);
  });
}

// --- Update HUD ---
function updateHUD() {
  document.getElementById("quiz-score-display").textContent = "Score: " + quizScore;
  let accuracy = quizQ === 0 ? 0 : Math.round((quizScore / quizQ) * 100);
  document.getElementById("quiz-accuracy-display").textContent = "Accuracy: " + accuracy + "%";
}

// --- Show Quiz ---
document.getElementById("chord-quiz-btn").onclick = startQuiz;

// --- Populate Chord Images for Reference (Optional) ---
function populateChordImages() {
  const grid = document.getElementById("chord-grid");
  grid.innerHTML = "";
  chords.forEach(c => {
    let div = document.createElement("div");
    div.className = "chord-card";
    div.innerHTML = `<img src="image/${c.toLowerCase()}.png" alt="${c}" style="width:80px;"><br>${c}`;
    grid.appendChild(div);
  });
}

// Call this once if you want the chord images ready for reference
populateChordImages();
</script>
<!-- Part 8: Additional Strum Practice Songs & Final Debug -->
<div id="strum" class="hidden">
  <h2>Strum Practice</h2>
  <input type="text" id="song-search" placeholder="Search songs..." oninput="filterSongs()"><br>
  <select id="song-select" onchange="updateSongPattern()"></select><br>
  <p id="song-pattern"></p>
  <button id="random-song" class="orange">Random Song</button>
  <button id="play-guitar-sound" class="orange">Guitar Sound Test</button>
  <p id="strum-feedback"></p>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<script>
// --- Additional Songs for Strum Practice ---
songs.push(
  {name:"Bagong Umaga", pattern:"D U D U D U", lyrics:"[Verse 1]\nC G\nBagong umaga...", url:"https://www.songsterr.com/a/wa/song/232425"},
  {name:"Sulyap", pattern:"D D U U D U", lyrics:"[Verse 1]\nAm F\nSulyap...", url:"https://www.songsterr.com/a/wa/song/242526"},
  {name:"Bawat Daan", pattern:"U D U D U D", lyrics:"[Verse 1]\nG C\nBawat daan...", url:"https://www.songsterr.com/a/wa/song/252627"},
  {name:"Hanggang Sa Huli", pattern:"D U D U", lyrics:"[Verse 1]\nEm D\nHanggang sa huli...", url:"https://www.songsterr.com/a/wa/song/262728"},
  {name:"Kahit Ayaw Mo Na", pattern:"D D U D", lyrics:"[Verse 1]\nF C\nKahit ayaw mo na...", url:"https://www.songsterr.com/a/wa/song/272829"},
  {name:"Kung 'Di Rin Lang Ikaw", pattern:"U D U D", lyrics:"[Verse 1]\nAm G\nKung 'di rin lang ikaw...", url:"https://www.songsterr.com/a/wa/song/282930"},
  {name:"Tila", pattern:"D U D U D", lyrics:"[Verse 1]\nC G\nTila...", url:"https://www.songsterr.com/a/wa/song/293031"},
  {name:"Mahal Pa Rin", pattern:"D D U U D U", lyrics:"[Verse 1]\nAm F\nMahal pa rin...", url:"https://www.songsterr.com/a/wa/song/303132"},
  {name:"Di Mo Mapipigilan", pattern:"D U D U", lyrics:"[Verse 1]\nG C\nDi mo mapipigilan...", url:"https://www.songsterr.com/a/wa/song/313233"},
  {name:"Ikaw Lamang", pattern:"D D U D", lyrics:"[Verse 1]\nF C\nIkaw lamang...", url:"https://www.songsterr.com/a/wa/song/323334"}
);

// --- Repopulate select after adding new songs ---
populateSongSelect();

// --- Guitar Sound Test ---
document.getElementById("play-guitar-sound").onclick = () => {
  // Placeholder functionality: can integrate Web Audio API or audio files later
  alert("Guitar sound test coming soon!");
}

// --- Learn Song Button: Tabs App Prompt ---
document.getElementById("learn-song-btn").onclick = () => {
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("learn-song").classList.remove("hidden");
  let idx = document.getElementById("song-select").value;
  let song = songs[idx];
  document.getElementById("learn-song-name").textContent = "Song: " + song.name;
  document.getElementById("learn-chords").innerHTML = "<pre>" + chords.join(" ") + "</pre>";
  document.getElementById("learn-lyrics").textContent = "[Full lyrics not included]\nWant more songs? Download the Tabs app!";
  document.getElementById("learn-pattern").textContent = "Strum: " + song.pattern;
  document.getElementById("song-iframe").src = song.url;
}

// --- Filter Songs ---
function filterSongs(){
  let term = document.getElementById("song-search").value.toLowerCase();
  const sel = document.getElementById("song-select");
  sel.innerHTML = "";
  songs.filter(s => s.name.toLowerCase().includes(term))
       .forEach((s, i) => {
          let o = document.createElement("option");
          o.value = i;
          o.textContent = s.name;
          o.setAttribute("data-pattern", s.pattern);
          sel.appendChild(o);
       });
  updateSongPattern();
}

// --- Update Song Pattern ---
function updateSongPattern(){
  let idx = document.getElementById("song-select").value;
  let song = songs[idx];
  document.getElementById("song-pattern").textContent = "Strum Pattern: " + song.pattern;
}
</script>
<!-- Part 9: Final Wrapping, HUD, Dark Mode, Mobile/Desktop Fixes -->
<script>
// --- Dark Mode Toggle ---
let darkMode = false;
const darkModeBtn = document.createElement("button");
darkModeBtn.textContent = "üåô Dark Mode";
darkModeBtn.className = "orange";
darkModeBtn.style.position = "fixed";
darkModeBtn.style.bottom = "10px";
darkModeBtn.style.right = "10px";
darkModeBtn.onclick = () => {
    darkMode = !darkMode;
    document.body.style.background = darkMode ? "#111" : "#fff";
    document.body.style.color = darkMode ? "white" : "#000";
};
document.body.appendChild(darkModeBtn);

// --- Burger HUD for Quiz ---
const hud = document.createElement("div");
hud.id = "burger-hud";
hud.style.position = "fixed";
hud.style.top = "60px";
hud.style.right = "10px";
hud.style.background = "rgba(0,0,0,0.8)";
hud.style.color = "white";
hud.style.padding = "10px";
hud.style.borderRadius = "8px";
hud.style.display = "none";
hud.innerHTML = `
  <p>Quiz Score: <span id="hud-score">0</span></p>
  <p>Accuracy: <span id="hud-accuracy">0%</span></p>
`;
document.body.appendChild(hud);

document.getElementById("burger-btn").onclick = () => {
    const menu = document.getElementById("main-menu");
    menu.classList.toggle("hidden");
    hud.style.display = hud.style.display === "none" ? "block" : "none";
};

// --- Update HUD ---
function updateHUD(score, total) {
    document.getElementById("hud-score").textContent = score;
    let accuracy = total > 0 ? Math.round((score / total) * 100) : 0;
    document.getElementById("hud-accuracy").textContent = accuracy + "%";
}

// --- Quiz fix: add timer & chord image ---
function startQuiz() {
    document.getElementById("main-menu").classList.add("hidden");
    document.getElementById("chord-quiz").classList.remove("hidden");
    quizScore = 0;
    quizQ = 0;
    nextQuiz();
}
function nextQuiz(){
    if(quizQ >= totalQ){
        document.getElementById("quiz-display").textContent = "Done! Score: " + quizScore + "/" + totalQ;
        document.getElementById("quiz-choices").innerHTML = "";
        updateHUD(quizScore, totalQ);
        return;
    }
    let correct = chords[Math.floor(Math.random()*chords.length)];
    document.getElementById("quiz-display").innerHTML = `<img src="image/${correct.toLowerCase()}.png" alt="${correct}" style="width:80px;height:auto;"><br>${correct}`;
    let choices = new Set([correct]);
    while(choices.size < 4) choices.add(chords[Math.floor(Math.random()*chords.length)]);
    let shuffled = [...choices].sort(()=>Math.random()-0.5);
    const container = document.getElementById("quiz-choices");
    container.innerHTML = "";
    shuffled.forEach(c => {
        let b = document.createElement("button");
        b.textContent = c;
        b.onclick = () => {
            if(c === correct) quizScore++;
            quizQ++;
            nextQuiz();
            updateHUD(quizScore, totalQ);
        };
        container.appendChild(b);
    });
}

// --- Mobile/Desktop compatibility ---
function responsiveFix(){
    const width = window.innerWidth;
    const mainMenu = document.getElementById("main-menu");
    if(width < 600){
        mainMenu.style.fontSize = "0.9em";
        mainMenu.style.padding = "10px";
    } else {
        mainMenu.style.fontSize = "1.1em";
        mainMenu.style.padding = "20px";
    }
}
window.addEventListener("resize", responsiveFix);
responsiveFix();

// --- Final Image check ---
populateChordGrid(); // ensure all local chord images appear
</script>
<!-- Part 10: Final Styles, Mobile Fixes, Button Checks -->
<style>
/* --- Final CSS fixes --- */
button.orange {background:#ff7f50;color:white;font-weight:bold;}
button:hover {opacity:0.9;}
#main-menu button, #chord-quiz button, #practice button, #strum button, #learn-song button {
    margin:5px; width:150px; border-radius:6px; border:none; padding:8px;
}
#song-select {width:80%;padding:6px;margin:5px;border-radius:6px;border:none;}
#song-search {width:80%;padding:6px;margin:5px;border-radius:6px;border:none;}
.chord-card img {max-width:100px;height:auto;}
#chord-grid {justify-content:center;}
iframe {width:100%;height:400px;border:0;margin-top:10px;border-radius:8px;}

/* --- Mobile adjustments --- */
@media screen and (max-width: 600px){
    header {flex-direction:column;align-items:center;}
    .chord-card {width:70px;}
    #main-menu button, #chord-quiz button, #practice button, #strum button, #learn-song button {width:100%;}
    iframe {height:250px;}
}
</style>

<script>
// --- Final check: all buttons function ---
const menuButtons = ["view-chords-btn","practice-btn","strum-btn","chord-quiz-btn","learn-song-btn"];
menuButtons.forEach(id => {
    const btn = document.getElementById(id);
    if(!btn){console.warn("Missing button: "+id);}
});

// --- Ensure login buttons work ---
document.getElementById("login-btn").onclick || console.warn("Login button missing");
document.getElementById("create-acc-btn").onclick || console.warn("Create account button missing");
document.getElementById("continue-btn").onclick || console.warn("Continue without account button missing");

// --- Final HUD, Chord Grid refresh ---
populateChordGrid();
updateHUD(0,0);

// --- Make sure strum select populates ---
if(document.getElementById("song-select")) populateSongSelect();

// --- Fix iframe scroll on mobile ---
document.querySelectorAll("iframe").forEach(f => {
    f.setAttribute("scrolling","no");
});
</script>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guitar Hub Trainer</title>
<style>
/* --- General Styles --- */
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background: #111;
  color: white;
  text-align: center;
}
header {
  width: 100%;
  background: orange;
  padding: 10px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: fixed;
  top: 0;
  z-index: 1000;
}
.logo {
  font-weight: bold;
  font-size: 1.6em;
  color: white;
}
button, input, select {
  padding: 8px;
  margin: 5px;
  border-radius: 6px;
  border: none;
  font-size: 1em;
  cursor: pointer;
}
button.orange { background: orange; color: #111; }
.hidden { display: none; }
.chord-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  padding: 10px;
}
.chord-card {
  background: #222;
  padding: 10px;
  border-radius: 8px;
  width: 100px;
  color: white;
}
.chord-card img {
  width: 80px;
  height: auto;
}
ul { list-style: none; padding: 0; }
li { padding: 5px; margin: 3px; background: #222; border-radius: 6px; cursor: pointer; }
iframe { width: 100%; height: 400px; border: 0; margin-top: 10px; }
/* --- Dark Mode --- */
body.dark { background: #111; color: #fff; }
body.dark header { background: #333; color: white; }
body.dark .chord-card { background: #333; }
/* --- Responsive --- */
@media (max-width: 600px) {
  .chord-card { width: 80px; padding: 5px; font-size: 0.9em; }
  button, input, select { font-size: 0.9em; }
}
</style>
</head>
<body>
<header>
  <div class="logo">Guitar Hub</div>
  <button id="burger-btn">&#9776;</button>
</header>

<main style="padding-top:80px;">
<!-- --- Login Screen --- -->
<div id="intro-screen">
  <h1>Welcome to Guitar Hub</h1>
  <input type="text" id="username" placeholder="Username"><br>
  <div style="position:relative;display:inline-block;">
    <input type="password" id="password" placeholder="Password">
    <button id="toggle-pass" style="position:absolute;right:0;top:0;padding:5px;">üëÅÔ∏è</button>
  </div><br>
  <button id="login-btn" class="orange">Log In</button>
  <button id="create-acc-btn" class="orange">Create Account</button>
  <button id="continue-btn" class="orange">Continue Without Account</button>
  <p><button id="forgot-pass" class="orange">Forgot Password?</button></p>
</div>

<!-- --- Main Menu --- -->
<div id="main-menu" class="hidden">
  <h2>Main Menu</h2>
  <button id="view-chords-btn" class="orange">View Chords</button>
  <button id="practice-btn" class="orange">Practice Chords</button>
  <button id="strum-btn" class="orange">Practice Strum</button>
  <button id="chord-quiz-btn" class="orange">Chord Recognition</button>
  <button id="learn-song-btn" class="orange">Learn Song</button>
  <button id="dark-mode-btn" class="orange">Toggle Dark Mode</button>
</div>

  <!-- Part 12: Final Bug Fix Layer -->
<script>
// --- GLOBAL CLEANUP ---
document.addEventListener("DOMContentLoaded", () => {
  // Remove duplicate login screens if any
  const loginScreens = document.querySelectorAll("#intro-screen");
  if (loginScreens.length > 1) {
    for (let i = 1; i < loginScreens.length; i++) loginScreens[i].remove();
  }

  // Fix logo and hub colors
  const logo = document.querySelector(".logo");
  if (logo) logo.style.color = "white";

  const header = document.querySelector("header");
  if (header) header.style.backgroundColor = "#000";

  // Fix body background
  document.body.style.backgroundColor = "#111";

  // Ensure main menu has orange buttons and proper display
  document.querySelectorAll("#main-menu button").forEach(b => {
    b.style.backgroundColor = "#ff6600";
    b.style.color = "white";
  });

  // Fix chord images path
  const chordCards = document.querySelectorAll(".chord-card img");
  chordCards.forEach(img => {
    const name = img.alt.toLowerCase();
    img.src = "image/" + name + ".png";
  });

  // Fix Learn Song lyrics: if too long, show button to Tabs app
  const learnLyricsDiv = document.getElementById("learn-lyrics");
  if (learnLyricsDiv && learnLyricsDiv.textContent.length > 500) {
    learnLyricsDiv.innerHTML = "Lyrics too long. <a href='https://tabsapp.com' target='_blank'>Download Tabs App</a> for full lyrics.";
  }

  // Fix Strum Practice: search and random works
  const songSelect = document.getElementById("song-select");
  const songSearch = document.getElementById("song-search");
  if (songSelect && songSearch) {
    songSearch.addEventListener("input", () => {
      const term = songSearch.value.toLowerCase();
      for (let i = 0; i < songSelect.options.length; i++) {
        const opt = songSelect.options[i];
        opt.style.display = opt.text.toLowerCase().includes(term) ? "block" : "none";
      }
    });
  }

  // Fix Chord Recognition: add images if missing
  const quizDisplay = document.getElementById("quiz-display");
  if (quizDisplay && !quizDisplay.querySelector("img")) {
    const chordName = quizDisplay.textContent.trim();
    if (chordName) {
      const img = document.createElement("img");
      img.src = "image/" + chordName.toLowerCase() + ".png";
      img.alt = chordName;
      img.style.width = "80px";
      quizDisplay.innerHTML = "";
      quizDisplay.appendChild(img);
    }
  }

  // Ensure burger menu works on main menu
  const burgerBtn = document.getElementById("burger-btn");
  if (burgerBtn) {
    burgerBtn.addEventListener("click", () => {
      const menu = document.getElementById("main-menu");
      if (menu) menu.classList.toggle("hidden");
    });
  }

  // Remove burger from login screen
  if (document.getElementById("intro-screen") && burgerBtn) {
    burgerBtn.style.display = "none";
  }

  // Ensure dark mode button works
  const darkModeBtn = document.getElementById("dark-mode-btn");
  if (darkModeBtn) {
    darkModeBtn.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      if (document.body.classList.contains("dark-mode")) {
        document.body.style.backgroundColor = "#000";
        document.body.style.color = "white";
      } else {
        document.body.style.backgroundColor = "#111";
        document.body.style.color = "white";
      }
    });
  }

  // Ensure mobile responsiveness
  document.querySelectorAll("header, main, .chord-grid, .chord-card").forEach(el => {
    el.style.maxWidth = "100%";
  });

  // Fix guitar sound test button
  const guitarSoundBtn = document.getElementById("play-guitar-sound");
  if (guitarSoundBtn) {
    guitarSoundBtn.addEventListener("click", () => {
      alert("Guitar sound test coming soon!");
    });
  }

  // Remove duplicate Learn Song if any
  const learnSongDivs = document.querySelectorAll("#learn-song");
  if (learnSongDivs.length > 1) {
    for (let i = 1; i < learnSongDivs.length; i++) learnSongDivs[i].remove();
  }
});
</script>

  <!-- Part 13.1 -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guitar Hub Trainer</title>
<style>
  body{margin:0;padding:0;font-family:Arial,sans-serif;background:#111;color:white;}
  header{width:100%;background:#000;padding:10px 20px;display:flex;justify-content:space-between;align-items:center;position:fixed;top:0;z-index:1000;color:white;}
  .logo{font-weight:bold;font-size:1.6em;color:white;}
  button,input,select{padding:8px;margin:5px;border-radius:6px;border:none;font-size:1em;cursor:pointer;}
  button.orange{background:orange;color:#111;}
  .hidden{display:none;}
  .chord-grid{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;padding:10px;}
  .chord-card{background:#222;padding:10px;border-radius:8px;width:100px;color:white;}
  .chord-card img{width:80px;height:auto;}
  ul{list-style:none;padding:0;}
  li{padding:5px;margin:3px;background:#222;border-radius:6px;cursor:pointer;}
  iframe{width:100%;height:400px;border:0;margin-top:10px;}
  @media(max-width:768px){.chord-card{width:70px;padding:5px;}header{flex-direction:column;align-items:flex-start;}}
</style>
</head>
<body>

<header>
  <div class="logo">Guitar Hub</div>
</header>

<main style="padding-top:80px;">

<!-- Login Screen -->
<div id="intro-screen">
  <h1>Welcome</h1>
  <input type="text" id="username" placeholder="Username"><br>
  <div style="position:relative;display:inline-block;">
    <input type="password" id="password" placeholder="Password">
    <button id="toggle-pass" style="position:absolute;right:0;top:0;padding:5px;">üëÅÔ∏è</button>
  </div><br>
  <button id="login-btn" class="orange">Log In</button>
  <button id="create-acc-btn" class="orange">Create Account</button>
  <button id="continue-btn" class="orange">Continue Without Account</button>
  <button id="forget-pass-btn" class="orange">Forgot Password</button>
</div>

<!-- Main Menu -->
<div id="main-menu" class="hidden">
  <h2>Main Menu</h2>
  <button id="view-chords-btn" class="orange">View Chords</button>
  <button id="practice-btn" class="orange">Practice Chords</button>
  <button id="strum-btn" class="orange">Practice Strum</button>
</div>

<!-- Chords -->
<div id="chords" class="hidden">
  <h2>Chords</h2>
  <div class="chord-grid" id="chord-grid"></div>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<!-- Practice Chords -->
<div id="practice" class="hidden">
  <h2>Practice Chords</h2>
  <div id="practice-display" style="font-size:2em;"></div>
  <button id="next-practice" class="orange">Next</button>
  <p id="practice-feedback"></p>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<!-- Strum Practice -->
<div id="strum" class="hidden">
  <h2>Strum Practice</h2>
  <input type="text" id="song-search" placeholder="Search songs..." oninput="filterSongs()"><br>
  <select id="song-select" onchange="updateSongPattern()"></select><br>
  <p id="song-pattern"></p>
  <button id="random-song" class="orange">Random Song</button>
  <button id="play-guitar-sound" class="orange">Guitar Sound Test</button>
  <p id="strum-feedback"></p>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<script>
// --- Global Variables ---
let currentUser=null;
let users=JSON.parse(localStorage.getItem("guitarUsers"))||{};
const chords=["C","D","E","F","G","A","B","Am","Dm","Em"];
const songs=[
{name:"Anak",pattern:"D D U U D U"},
{name:"Buwan",pattern:"D U D U D U"},
{name:"Tadhana",pattern:"D D D D"},
{name:"Hawak Kamay",pattern:"U D U D U D"},
{name:"Ikaw",pattern:"D U U D U D"},
{name:"Tagpuan",pattern:"D D U D U"},
{name:"Kung Ako Na Lang Sana",pattern:"D D U D U D"},
{name:"Huwag Ka Lang Mawawala",pattern:"U D U D"},
{name:"Pusong Ligaw",pattern:"D U D U"},
{name:"Bakit Pa?",pattern:"D D U D"},
{name:"Mundo",pattern:"U D U D"},
{name:"Sa‚Äôyo",pattern:"D D U D U"},
{name:"Mahal Ko o Mahal Ako",pattern:"D U D U D U"},
{name:"Sana",pattern:"D D U U D U"},
{name:"Torete",pattern:"D U D U"},
{name:"Hanggang Kailan",pattern:"D D U D"},
{name:"Nadarang",pattern:"U D U D"},
{name:"Paubaya",pattern:"D U D U D"},
{name:"Huling Sayaw",pattern:"D D U D"},
{name:"Di Na Muli",pattern:"D U D U"}
];

// --- Helpers ---
function goBack(){
  document.getElementById("chords").classList.add("hidden");
  document.getElementById("practice").classList.add("hidden");
  document.getElementById("strum").classList.add("hidden");
  document.getElementById("main-menu").classList.remove("hidden");
}

// --- Show Password ---
document.getElementById("toggle-pass").onclick=()=>{let p=document.getElementById("password");p.type=p.type==="password"?"text":"password";}

// --- Login Functions ---
document.getElementById("login-btn").onclick=()=>{
  let u=document.getElementById("username").value.trim();
  let p=document.getElementById("password").value.trim();
  if(!u||!p){alert("Enter username & password");return;}
  if(users[u]&&users[u].password===p){currentUser=u;alert("Logged in");showMenu();}
  else alert("Invalid credentials");  
};
document.getElementById("create-acc-btn").onclick=()=>{
  let u=document.getElementById("username").value.trim();
  let p=document.getElementById("password").value.trim();
  if(!u||!p){alert("Enter username & password");return;}
  if(users[u]){alert("Username exists");return;}
  users[u]={password:p,lastScore:0};localStorage.setItem("guitarUsers",JSON.stringify(users));
  currentUser=u;alert("Account created");showMenu();
};
document.getElementById("continue-btn").onclick=()=>{currentUser="Guest";showMenu();}
document.getElementById("forget-pass-btn").onclick=()=>{alert("Password recovery feature coming soon!");}

function showMenu(){
  document.getElementById("intro-screen").classList.add("hidden");
  document.getElementById("main-menu").classList.remove("hidden");
}

// --- Chord Grid ---
document.getElementById("view-chords-btn").onclick=()=>{
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("chords").classList.remove("hidden");
  const g=document.getElementById("chord-grid");
  g.innerHTML="";
  chords.forEach(c=>{
    let d=document.createElement("div");
    d.className="chord-card";
    d.innerHTML=`<img src="image/${c.toLowerCase()}.png" alt="${c}"><br>${c}`;
    g.appendChild(d);
  });
};

// --- Practice Chords ---
document.getElementById("practice-btn").onclick=()=>{
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("practice").classList.remove("hidden");
  nextPractice();
};
let practiceIndex=0;
function nextPractice(){
  practiceIndex=Math.floor(Math.random()*chords.length);
  document.getElementById("practice-display").textContent=chords[practiceIndex];
  document.getElementById("practice-feedback").textContent="";
}
document.getElementById("next-practice").onclick=nextPractice;

// --- Strum Practice ---
document.getElementById("strum-btn").onclick=()=>{
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("strum").classList.remove("hidden");
  populateSongSelect();
};

function populateSongSelect(){
  const sel=document.getElementById("song-select");
  sel.innerHTML="";
  songs.forEach((s,i)=>{
    let o=document.createElement("option");
    o.value=i;
    o.textContent=s.name;
    o.setAttribute("data-pattern",s.pattern);
    sel.appendChild(o);
  });
  updateSongPattern();
}

function updateSongPattern(){
  let idx=document.getElementById("song-select").value;
  let song=songs[idx];
  document.getElementById("song-pattern").textContent="Strum Pattern: "+song.pattern;
}

document.getElementById("random-song").onclick=()=>{
  let i=Math.floor(Math.random()*songs.length);
  document.getElementById("song-select").value=i;
  updateSongPattern();
}

function filterSongs(){
  let term=document.getElementById("song-search").value.toLowerCase();
  const sel=document.getElementById("song-select");
  sel.innerHTML="";
  songs.filter(s=>s.name.toLowerCase().includes(term))
       .forEach((s,i)=>{
          let o=document.createElement("option");
          o.value=i;
          o.textContent=s.name;
          o.setAttribute("data-pattern",s.pattern);
          sel.appendChild(o);
       });
  updateSongPattern();
}

document.getElementById("play-guitar-sound").onclick=()=>{alert("Guitar sound test coming soon!");}
</script>
<!-- Part 13.2 -->
<!-- Learn Song -->
<div id="learn-song" class="hidden">
  <h2>Learn Song</h2>
  <p id="learn-song-name"></p>
  <div id="learn-chords"></div>
  <div id="learn-lyrics" style="white-space:pre-wrap;"></div>
  <div id="learn-pattern"></div>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
  <p>Want more songs? <a href="https://tabs.example.com" target="_blank">Download Tabs App</a></p>
</div>

<!-- Chord Recognition Quiz -->
<div id="chord-quiz" class="hidden">
  <h2>Chord Recognition Quiz</h2>
  <p id="quiz-chord-img"></p>
  <div id="quiz-options"></div>
  <p id="quiz-timer"></p>
  <p id="quiz-score"></p>
  <button onclick="startQuiz()" class="orange">Start Quiz</button>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<!-- Burger Dashboard HUD -->
<div id="burger-hud" class="hidden">
  <h3>Burger Dashboard</h3>
  <p id="hud-user"></p>
  <p>Quiz Score: <span id="hud-quiz-score">0</span></p>
  <p>Accuracy: <span id="hud-accuracy">0%</span></p>
  <button onclick="toggleDarkMode()" class="orange">Dark Mode</button>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<script>
// --- Learn Song Function ---
document.getElementById("learn-song-btn").onclick=()=>{
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("learn-song").classList.remove("hidden");
  let idx=document.getElementById("song-select").value;
  let song=songs[idx];
  document.getElementById("learn-song-name").textContent="Song: "+song.name;
  document.getElementById("learn-chords").innerHTML="<pre>"+chords.join(" ")+"</pre>";
  document.getElementById("learn-lyrics").textContent=song.lyrics;
  document.getElementById("learn-pattern").textContent="Strum: "+song.pattern;
}

// --- Chord Quiz ---
let quizChords=["C","D","E","F","G","A","B","Am","Dm","Em"];
let quizScore=0;
let quizTimerVal=5;
let quizInterval;

function startQuiz(){
  quizScore=0;
  document.getElementById("quiz-score").textContent="Score: 0";
  nextQuizChord();
}

function nextQuizChord(){
  if(quizInterval) clearInterval(quizInterval);
  let idx=Math.floor(Math.random()*quizChords.length);
  let chord=quizChords[idx];
  document.getElementById("quiz-chord-img").innerHTML=`<img src="image/${chord.toLowerCase()}.png" alt="${chord}">`;
  
  let options=quizChords.slice().sort(()=>0.5-Math.random()).slice(0,4);
  if(!options.includes(chord)) options[Math.floor(Math.random()*4)]=chord;
  
  let optsDiv=document.getElementById("quiz-options");
  optsDiv.innerHTML="";
  options.forEach(o=>{
    let btn=document.createElement("button");
    btn.textContent=o;
    btn.onclick=()=>{
      if(o===chord){quizScore++;document.getElementById("quiz-score").textContent="Score: "+quizScore;}
      nextQuizChord();
    };
    btn.className="orange";
    optsDiv.appendChild(btn);
  });
  
  quizTimerVal=5;
  document.getElementById("quiz-timer").textContent="Time: "+quizTimerVal;
  quizInterval=setInterval(()=>{
    quizTimerVal--;
    document.getElementById("quiz-timer").textContent="Time: "+quizTimerVal;
    if(quizTimerVal<=0){clearInterval(quizInterval);nextQuizChord();}
  },1000);
}

// --- Burger Dashboard HUD ---
function showBurgerHUD(){
  document.getElementById("main-menu").classList.add("hidden");
  document.getElementById("burger-hud").classList.remove("hidden");
  document.getElementById("hud-user").textContent="User: "+currentUser;
  document.getElementById("hud-quiz-score").textContent=quizScore;
  document.getElementById("hud-accuracy").textContent=(quizScore*10)+"%";
}

// --- Dark Mode ---
function toggleDarkMode(){
  if(document.body.style.background==="#111"){
    document.body.style.background="#eee";
    document.body.style.color="#111";
  } else{
    document.body.style.background="#111";
    document.body.style.color="white";
  }
}
</script>

  <!-- Part 14.1: Header, Login Screen, Transitions -->
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#111; color:white; transition: background 0.3s, color 0.3s; }
header { width:100%; background:#000; padding:10px 20px; display:flex; justify-content:space-between; align-items:center; position:fixed; top:0; z-index:1000; transition: background 0.3s; }
.logo { font-weight:bold; font-size:1.6em; color: orange; }
button, input, select { padding:8px; margin:5px; border-radius:6px; border:none; font-size:1em; cursor:pointer; transition: all 0.2s; }
button:hover { opacity:0.8; }
.hidden { display:none; }
.fade-enter { opacity:0; transform: translateY(10px); }
.fade-enter-active { opacity:1; transform: translateY(0); transition: all 0.3s ease; }
.fade-exit { opacity:1; }
.fade-exit-active { opacity:0; transition: all 0.3s ease; }
.orange { background:orange; color:black; }
</style>

<header>
  <div class="logo">Guitar Hub</div>
</header>

<main style="padding-top:80px;">
  <div id="intro-screen">
    <h1>Welcome</h1>
    <input type="text" id="username" placeholder="Username"><br>
    <div style="position:relative; display:inline-block;">
      <input type="password" id="password" placeholder="Password">
      <button id="toggle-pass" style="position:absolute; right:0; top:0; padding:5px;">üëÅÔ∏è</button>
    </div><br>
    <button id="login-btn" class="orange">Log In</button>
    <button id="create-acc-btn" class="orange">Create Account</button>
    <button id="continue-btn" class="orange">Continue Without Account</button><br>
    <button id="forgot-pass-btn" class="orange">Forgot Password?</button>
  </div>

  <div id="main-menu" class="hidden fade-enter">
    <h2>Main Menu</h2>
    <button id="view-chords-btn" class="orange">View Chords</button>
    <button id="practice-btn" class="orange">Practice Chords</button>
    <button id="strum-btn" class="orange">Practice Strum</button>
    <button id="chord-quiz-btn" class="orange">Chord Recognition</button>
    <button id="learn-song-btn" class="orange">Learn Song</button>
    <button id="dark-mode-btn" class="orange">Dark Mode</button>
  </div>
</main>

<script>
// --- Global ---
let currentUser = null;
let users = JSON.parse(localStorage.getItem("guitarUsers")) || {};
const chords = ["C","D","E","F","G","A","B","Am","Dm","Em"];

// --- Show Password Toggle ---
document.getElementById("toggle-pass").onclick = () => {
  const p = document.getElementById("password");
  p.type = p.type === "password" ? "text" : "password";
};

// --- Login/Account ---
document.getElementById("login-btn").onclick = () => {
  const u = document.getElementById("username").value.trim();
  const p = document.getElementById("password").value.trim();
  if (!u || !p) { alert("Enter username & password"); return; }
  if (users[u] && users[u].password === p) { currentUser = u; alert("Logged in"); showMenu(); }
  else alert("Invalid login");
};
document.getElementById("create-acc-btn").onclick = () => {
  const u = document.getElementById("username").value.trim();
  const p = document.getElementById("password").value.trim();
  if (!u || !p) { alert("Enter username & password"); return; }
  if (users[u]) { alert("Username exists"); return; }
  users[u] = { password:p, lastScore:0 }; 
  localStorage.setItem("guitarUsers", JSON.stringify(users));
  currentUser = u; 
  alert("Account created"); 
  showMenu();
};
document.getElementById("continue-btn").onclick = () => { currentUser="Guest"; showMenu(); };
document.getElementById("forgot-pass-btn").onclick = () => { 
  const u = document.getElementById("username").value.trim();
  if (!u || !users[u]) { alert("No account found"); return; }
  alert(`Password hint: ${users[u].password}`); 
};

function showMenu() {
  document.getElementById("intro-screen").classList.add("hidden");
  const menu = document.getElementById("main-menu");
  menu.classList.remove("hidden");
  menu.classList.add("fade-enter-active");
}

// --- Dark Mode ---
document.getElementById("dark-mode-btn").onclick = () => {
  document.body.style.background = document.body.style.background === "#111" ? "#fff" : "#111";
  document.body.style.color = document.body.style.color === "#fff" ? "#000" : "#fff";
};
</script>

  <!-- Part 14.2: Chords, Practice, Strum Practice -->
<style>
#chord-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(80px,1fr)); gap:10px; margin:10px 0; }
.chord-card { text-align:center; padding:5px; background:#222; border-radius:8px; transition: all 0.2s; }
.chord-card img { width:50px; height:50px; }
#strum, #practice { margin-top:20px; }
</style>

<div id="chord-grid-section" class="hidden">
  <h2>Chords</h2>
  <div id="chord-grid"></div>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<div id="practice" class="hidden">
  <h2>Practice Chords</h2>
  <p id="practice-display" style="font-size:2em;"></p>
  <p id="practice-feedback"></p>
  <button id="next-practice" class="orange">Next</button>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<div id="strum" class="hidden">
  <h2>Strum Practice</h2>
  <input type="text" id="song-search" placeholder="Search songs..." oninput="filterSongs()"><br>
  <select id="song-select" onchange="updateSongPattern()"></select><br>
  <p id="song-pattern"></p>
  <button id="random-song" class="orange">Random Song</button>
  <button id="play-guitar-sound" class="orange">Guitar Sound Test</button>
  <p id="strum-feedback"></p>
  <button onclick="goBack()" class="orange">‚¨Ö Back</button>
</div>

<script>
// --- Chord Grid ---
function populateChordGrid() {
  const grid = document.getElementById("chord-grid");
  grid.innerHTML = "";
  chords.forEach(c=>{
    const div = document.createElement("div");
    div.className="chord-card";
    div.innerHTML=`<img src="image/${c.toLowerCase()}.png" alt="${c}"><br>${c}`;
    grid.appendChild(div);
  });
}

// --- Show Sections ---
document.getElementById("view-chords-btn").onclick = () => { hideAll(); document.getElementById("chord-grid-section").classList.remove("hidden"); populateChordGrid(); };
document.getElementById("practice-btn").onclick = () => { hideAll(); document.getElementById("practice").classList.remove("hidden"); nextPractice(); };
document.getElementById("strum-btn").onclick = () => { hideAll(); document.getElementById("strum").classList.remove("hidden"); populateSongSelect(); };

function hideAll() {
  ["chord-grid-section","practice","strum"].forEach(id=>document.getElementById(id).classList.add("hidden"));
}

// --- Practice Chords ---
let practiceIndex=0;
function nextPractice() {
  practiceIndex = Math.floor(Math.random()*chords.length);
  document.getElementById("practice-display").textContent = chords[practiceIndex];
  document.getElementById("practice-feedback").textContent = "";
}
document.getElementById("next-practice").onclick = nextPractice;

// --- Strum Practice Songs ---
const songs = [
  {name:"Anak", pattern:"D D U U D U"},
  {name:"Buwan", pattern:"D U D U D U"},
  {name:"Tadhana", pattern:"D D D D"},
  {name:"Hawak Kamay", pattern:"U D U D U D"},
  {name:"Ikaw", pattern:"D U U D U D"},
  {name:"Tagpuan", pattern:"D D U D U"},
  {name:"Kung Ako Na Lang Sana", pattern:"D D U D U D"},
  {name:"Huwag Ka Lang Mawawala", pattern:"U D U D"},
  {name:"Pusong Ligaw", pattern:"D U D U"},
  {name:"Bakit Pa?", pattern:"D D U D"},
  {name:"Mundo", pattern:"U D U D"},
  {name:"Sa‚Äôyo", pattern:"D D U D U"},
  {name:"Mahal Ko o Mahal Ako", pattern:"D U D U D U"},
  {name:"Sana", pattern:"D D U U D U"},
  {name:"Torete", pattern:"D U D U"},
  {name:"Hanggang Kailan", pattern:"D D U D"},
  {name:"Nadarang", pattern:"U D U D"},
  {name:"Paubaya", pattern:"D U D U D"},
  {name:"Huling Sayaw", pattern:"D D U D"},
  {name:"Di Na Muli", pattern:"D U D U"}
];

function populateSongSelect() {
  const sel = document.getElementById("song-select");
  sel.innerHTML="";
  songs.forEach((s,i)=>{
    const o = document.createElement("option");
    o.value=i;
    o.textContent = s.name;
    o.setAttribute("data-pattern", s.pattern);
    sel.appendChild(o);
  });
  updateSongPattern();
}

function updateSongPattern() {
  const idx = document.getElementById("song-select").value;
  const song = songs[idx];
  document.getElementById("song-pattern").textContent = "Strum Pattern: "+song.pattern;
}

// --- Random Song ---
document.getElementById("random-song").onclick = () => {
  let i = Math.floor(Math.random()*songs.length);
  document.getElementById("song-select").value = i;
  updateSongPattern();
}

// --- Filter Songs ---
function filterSongs() {
  const term = document.getElementById("song-search").value.toLowerCase();
  const sel = document.getElementById("song-select");
  sel.innerHTML="";
  songs.filter(s=>s.name.toLowerCase().includes(term))
       .forEach((s,i)=>{
          const o = document.createElement("option");
          o.value=i;
          o.textContent=s.name;
          o.setAttribute("data-pattern", s.pattern);
          sel.appendChild(o);
       });
  updateSongPattern();
}

// --- Guitar Sound Test ---
document.getElementById("play-guitar-sound").onclick = () => {
  alert("Guitar sound test coming soon!");
};

// --- Go Back ---
function goBack() {
  hideAll();
  document.getElementById("main-menu").classList.remove("hidden");
}
</script>

  <!-- Part 14.3: Learn Song & Download Tabs -->
<div id="learn-song" class="hidden" style="background:#000; color:white; padding:20px; border-radius:10px; transition:all 0.5s;">
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <h2 style="color:orange;">Learn Song</h2>
    <button id="toggle-dark" style="background:none; border:none; color:white; font-size:1.2em; cursor:pointer;">üåô</button>
  </div>
  <p id="learn-song-name"></p>
  <div id="learn-chords" style="margin-bottom:10px;"></div>
  <div id="learn-lyrics" style="white-space:pre-wrap; margin-bottom:10px;"></div>
  <div id="learn-pattern" style="margin-bottom:10px;"></div>
  <iframe id="song-iframe" src="" style="width:100%; height:400px; border:0; margin-bottom:10px;"></iframe>
  <button onclick="goBack()" class="orange" style="margin-right:10px;">‚¨Ö Back</button>
  <button id="download-tabs" class="orange">Want more songs? Download "Tabs" App</button>
</div>

<script>
// --- Dark Mode Toggle ---
document.getElementById("toggle-dark").onclick = () => {
  let body = document.body;
  if(body.style.background === "black" || body.style.background === ""){
    body.style.background = "#111";
    body.style.color = "white";
  } else {
    body.style.background = "black";
    body.style.color = "white";
  }
};

// --- Download Tabs ---
document.getElementById("download-tabs").onclick = () => {
  window.open("https://www.tabsapp.com", "_blank");
};

// --- Learn Song Update ---
function showLearnSong(idx){
  let song = songs[idx]; // songs array already defined in previous parts
  document.getElementById("learn-song-name").textContent = "Song: "+song.name;
  document.getElementById("learn-chords").innerHTML = "<pre>"+chords.join(" ")+"</pre>"; // chords array defined
  document.getElementById("learn-lyrics").textContent = song.lyrics;
  document.getElementById("learn-pattern").textContent = "Strum: "+song.pattern;
  document.getElementById("song-iframe").src = song.url;
  document.getElementById("learn-song").classList.remove("hidden");
  document.getElementById("main-menu").classList.add("hidden");
}
</script>
