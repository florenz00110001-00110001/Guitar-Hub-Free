<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guitar Hub Trainer</title>
<style>
/* --- General Styles --- */
* { box-sizing: border-box; }
body {
    font-family: Arial, sans-serif;
    margin:0;
    padding:0;
    background:#111;
    color:white;
    text-align:center;
}
header {
    width:100%;
    background:#000;
    padding:10px 20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:fixed;
    top:0;
    z-index:1000;
}
.logo {
    font-weight:bold;
    font-size:1.8em;
}
button, input, select {
    padding:10px;
    margin:5px;
    border-radius:8px;
    border:none;
    font-size:1em;
    cursor:pointer;
}
button:hover { opacity:0.9; }
.hidden { display:none; }
main { padding-top:90px; width:95%; max-width:900px; margin:auto; }

/* --- Inputs and Password Toggle --- */
.password-wrapper { position:relative; display:inline-block; }
.password-wrapper button { position:absolute; right:0; top:0; padding:8px; background:#444; color:white; }

/* --- Chord Grid --- */
.chord-grid {
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:15px;
    padding:10px;
}
.chord-card {
    background:#222;
    padding:10px;
    border-radius:10px;
    width:120px;
    color:white;
    display:flex;
    flex-direction:column;
    align-items:center;
}
.chord-card img { width:100px; height:auto; border-radius:5px; box-shadow:0 0 5px #000; }

/* --- Lists --- */
ul { list-style:none; padding:0; }
li { padding:8px; margin:4px; background:#222; border-radius:6px; cursor:pointer; }

/* --- Iframe --- */
iframe { width:100%; height:400px; border:0; margin-top:10px; border-radius:8px; }

/* --- Buttons --- */
button.back-btn { background:#444; color:white; }
button.primary { background:orange; color:black; font-weight:bold; }

/* --- Responsive --- */
@media(max-width:600px){
    .chord-card { width:90px; }
    button,input,select { font-size:0.9em; padding:8px; }
    header { flex-direction: column; gap:5px; }
}
</style>
</head>
<body>

<header>
<div class="logo">Guitar Hub</div>
<button id="burger-btn">&#9776;</button>
</header>

<main>

<!-- Intro Screen -->
<div id="intro-screen">
<h1>Welcome to Guitar Hub</h1>
<input type="text" id="username" placeholder="Username"><br>
<div class="password-wrapper">
<input type="password" id="password" placeholder="Password">
<button id="toggle-pass">üëÅÔ∏è</button>
</div><br>
<button id="login-btn" class="primary">Log In</button>
<button id="create-acc-btn" class="primary">Create Account</button>
<button id="continue-btn" class="primary">Continue Without Account</button>
</div>

<!-- Main Menu -->
<div id="main-menu" class="hidden">
<h2>Main Menu</h2>
<button id="view-chords-btn">View Chords</button>
<button id="practice-btn">Practice Chords</button>
<button id="strum-btn">Practice Strum</button>
<button id="chord-quiz-btn">Chord Recognition</button>
<button id="learn-song-btn">Learn Song</button>
<button id="delete-btn">Delete Account</button>
</div>

<!-- Chords -->
<div id="chords" class="hidden">
<h2>Chords</h2>
<div class="chord-grid" id="chord-grid"></div>
<button class="back-btn" onclick="goBack()">‚¨Ö Back</button>
</div>

<!-- Practice Chords -->
<div id="practice" class="hidden">
<h2>Practice Chords</h2>
<div id="practice-display" style="font-size:2em;"></div>
<button id="next-practice">Next</button>
<p id="practice-feedback"></p>
<button class="back-btn" onclick="goBack()">‚¨Ö Back</button>
</div>

<!-- Strum Practice -->
<div id="strum" class="hidden">
<h2>Strum Practice</h2>
<input type="text" id="song-search" placeholder="Search Philippine songs..." oninput="filterSongs()"><br>
<select id="song-select" onchange="updateSongPattern()"></select><br>
<p id="song-pattern"></p>
<button id="random-song">Random Song</button><br>
<p id="strum-feedback"></p>
<button class="back-btn" onclick="goBack()">‚¨Ö Back</button>
</div>

<!-- Chord Quiz -->
<div id="chord-quiz" class="hidden">
<h2>Chord Recognition</h2>
<div id="quiz-display" style="font-size:2em;margin:10px;"></div>
<div id="quiz-choices" class="chord-grid"></div>
<div id="quiz-timer">Time: <span id="time-left">5</span>s</div>
<div id="quiz-score" style="margin:10px;font-weight:bold;"></div>
<button class="back-btn" onclick="goBack()">‚¨Ö Back</button>
</div>

<!-- Learn Song -->
<div id="learn-song" class="hidden">
<h2>Learn Song</h2>
<p id="learn-song-name" style="font-weight:bold;"></p>
<div id="learn-chords"></div>
<div id="learn-pattern"></div>
<iframe id="song-iframe" src=""></iframe>
<button class="back-btn" onclick="goBack()">‚¨Ö Back</button>
</div>

</main>

<script>
// --- Global ---
let currentUser=null;
let users=JSON.parse(localStorage.getItem("guitarUsers"))||{};
const chords=["C","D","E","F","G","A","B","Am","Dm","Em"];
const philSongs=[
{name:"Anak",pattern:"D D U U D U",url:"https://www.songsterr.com/a/wa/song/44251"},
{name:"Buwan",pattern:"D U D U D U",url:"https://www.songsterr.com/a/wa/song/123456"},
{name:"Tadhana",pattern:"D D D D",url:"https://www.songsterr.com/a/wa/song/654321"},
{name:"Hawak Kamay",pattern:"U D U D U D",url:"https://www.songsterr.com/a/wa/song/987654"},
{name:"Ikaw",pattern:"D U U D U D",url:"https://www.songsterr.com/a/wa/song/112233"},
{name:"Tagpuan",pattern:"D D U D U",url:"https://www.songsterr.com/a/wa/song/445566"}
];

// --- Helpers ---
function goBack(){
document.getElementById("chords").classList.add("hidden");
document.getElementById("practice").classList.add("hidden");
document.getElementById("strum").classList.add("hidden");
document.getElementById("chord-quiz").classList.add("hidden");
document.getElementById("learn-song").classList.add("hidden");
document.getElementById("main-menu").classList.remove("hidden");
}

// --- Show Password ---
document.getElementById("toggle-pass").onclick=()=>{
let p=document.getElementById("password");
p.type=p.type==="password"?"text":"password";
}

// --- Intro ---
document.getElementById("login-btn").onclick=()=>{
let u=document.getElementById("username").value.trim();
let p=document.getElementById("password").value.trim();
if(!u||!p){alert("Enter username & password");return;}
if(users[u]&&users[u].password===p){currentUser=u;alert("Logged in");showMenu();}
else alert("Invalid");};
document.getElementById("create-acc-btn").onclick=()=>{
let u=document.getElementById("username").value.trim();
let p=document.getElementById("password").value.trim();
if(!u||!p){alert("Enter username & password");return;}
if(users[u]){alert("Exists");return;}
users[u]={password:p,lastScore:0};
localStorage.setItem("guitarUsers",JSON.stringify(users));
currentUser=u;
alert("Created");
showMenu();
};
document.getElementById("continue-btn").onclick=()=>{currentUser="Guest";showMenu();}
function showMenu(){
document.getElementById("intro-screen").classList.add("hidden");
document.getElementById("main-menu").classList.remove("hidden");
}

// --- Burger ---
document.getElementById("burger-btn").onclick=()=>{
document.getElementById("main-menu").classList.toggle("hidden");
}

// --- Delete Account ---
document.getElementById("delete-btn").onclick=()=>{
if(currentUser&&currentUser!=="Guest"&&confirm("Delete account?")){
delete users[currentUser];
localStorage.setItem("guitarUsers",JSON.stringify(users));
alert("Deleted");
currentUser=null;
document.getElementById("main-menu").classList.add("hidden");
document.getElementById("intro-screen").classList.remove("hidden");
}};

// --- Chords ---
document.getElementById("view-chords-btn").onclick=()=>{
document.getElementById("main-menu").classList.add("hidden");
document.getElementById("chords").classList.remove("hidden");
let g=document.getElementById("chord-grid");
g.innerHTML="";
chords.forEach(c=>{
let d=document.createElement("div");
d.className="chord-card";
d.innerHTML=`<img src="images/${c}.png" alt="${c}"><br>${c}`;
g.appendChild(d);
});
};

// --- Practice ---
document.getElementById("practice-btn").onclick=()=>{
document.getElementById("main-menu").classList.add("hidden");
document.getElementById("practice").classList.remove("hidden");
nextPractice();
}
let practiceIndex=0;
function nextPractice(){
practiceIndex=Math.floor(Math.random()*chords.length);
document.getElementById("practice-display").textContent=chords[practiceIndex];
document.getElementById("practice-feedback").textContent="";
}
document.getElementById("next-practice").onclick=nextPractice;

// --- Strum ---
document.getElementById("strum-btn").onclick=()=>{
document.getElementById("main-menu").classList.add("hidden");
document.getElementById("strum").classList.remove("hidden");
populateSongSelect();
}
function populateSongSelect(){
const s=document.getElementById("song-select");
s.innerHTML="";
philSongs.forEach((song,i)=>{
let o=document.createElement("option");
o.value=i;
o.textContent=song.name;
o.setAttribute("data-pattern",song.pattern);
s.appendChild(o);
});
updateSongPattern();
}
function updateSongPattern(){
let s=document.getElementById("song-select");
let p=philSongs[s.value];
document.getElementById("song-pattern").textContent="Pattern: "+p.pattern;
}
document.getElementById("random-song").onclick=()=>{
let i=Math.floor(Math.random()*philSongs.length);
document.getElementById("song-select").value=i;
updateSongPattern();
}
function filterSongs(){
let term=document.getElementById("song-search").value.toLowerCase();
let s=document.getElementById("song-select");
s.innerHTML="";
philSongs.filter(song=>song.name.toLowerCase().includes(term))
.forEach((song,i)=>{
let o=document.createElement("option");
o.value=i;
o.textContent=song.name;
o.setAttribute("data-pattern",song.pattern);
s.appendChild(o);
});
updateSongPattern();
}

// --- Learn Song ---
document.getElementById("learn-song-btn").onclick=()=>{
document.getElementById("main-menu").classList.add("hidden");
document.getElementById("learn-song").classList.remove("hidden");
let song=philSongs[document.getElementById("song-select").value];
document.getElementById("learn-song-name").textContent="Song: "+song.name;
document.getElementById("learn-chords").textContent="Chords: "+chords.join(", ");
document.getElementById("learn-pattern").textContent="Strum: "+song.pattern;
document.getElementById("song-iframe").src=song.url;
}

// --- Chord Quiz ---
document.getElementById("chord-quiz-btn").onclick=startQuiz;
let quizScore=0,quizQ=0,quizTimer,totalQ=5;
function startQuiz(){
document.getElementById("main-menu").classList.add("hidden");
document.getElementById("chord-quiz").classList.remove("hidden");
quizScore=0;
quizQ=0;
nextQuiz();
}
function nextQuiz(){
if(quizQ>=totalQ){
document.getElementById("quiz-display").textContent="Done! Score: "+quizScore+"/"+totalQ;
document.getElementById("quiz-choices").innerHTML="";
return;
}
let correct=chords[Math.floor(Math.random()*chords.length)];
document.getElementById("quiz-display").textContent=correct;
let choices=new Set([correct]);
while(choices.size<4)choices.add(chords[Math.floor(Math.random()*chords.length)]);
let shuffled=[...choices].sort(()=>Math.random()-0.5);
let container=document.getElementById("quiz-choices");
container.innerHTML="";
shuffled.forEach(c=>{
let b=document.createElement("button");
b.textContent=c;
b.onclick=()=>{
if(c===correct) quizScore++;
quizQ++;
clearInterval(quizTimer);
nextQuiz();
if(currentUser && currentUser!=="Guest") {
users[currentUser].lastScore=quizScore;
localStorage.setItem("guitarUsers", JSON.stringify(users));
}
};
container.appendChild(b);
});
let t=5;
document.getElementById("time-left").textContent=t;
quizTimer = setInterval(() => {
    t--;
    document.getElementById("time-left").textContent = t;
    if (t <= 0) {
        clearInterval(quizTimer);
        quizQ++;
        nextQuiz();
    }
}, 1000);
}
</script>
</body>
</html>
