<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guitar Hub Trainer</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#111; color:white; text-align:center; transition:0.3s all; }
header { width:100%; background:#000; padding:10px 20px; display:flex; justify-content:space-between; align-items:center; position:fixed; top:0; left:0; z-index:1000; }
.logo { display:flex; align-items:center; font-weight:bold; font-size:1.6em; }
.logo span.guitar { color:white; }
.logo span.hub { color:black; background:orange; padding:4px 8px; border-radius:5px; margin-left:5px; }
main { padding-top:80px; transition:0.3s all; }
button { padding:12px 20px; margin:8px; background:orange; border:none; border-radius:8px; font-size:1em; cursor:pointer; transition:0.2s; }
button:hover { opacity:0.85; }
button.back-btn { background:#444; color:white; }
.hidden { display:none; }
.chord-grid { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; padding:20px; transition:0.3s all; }
.chord-card { background:#222; padding:10px; border-radius:10px; box-shadow:0 0 10px #000; width:120px; text-align:center; }
.chord-card img { width:100px; height:auto; }
.dark-mode { background:#111; color:white; }
.light-mode { background:white; color:black; }
.transition { transition:0.3s all; }
a.download-btn { display:inline-block; padding:12px 20px; margin:10px; background:green; color:white; text-decoration:none; border-radius:8px; }
#login-screen { margin-top:100px; }
input { padding:10px; margin:5px; border-radius:5px; border:none; }
</style>
</head>
<body class="dark-mode">

<header>
  <div class="logo"><span class="guitar">Guitar</span><span class="hub">Hub</span></div>
  <button id="dark-toggle">Toggle Dark Mode</button>
</header>

<main>
  <!-- Login Screen -->
  <div id="login-screen">
    <h1>Login to Guitar Hub</h1>
    <input type="text" id="username" placeholder="Username"><br>
    <input type="password" id="password" placeholder="Password"><br>
    <button id="login-btn">Login</button>
  </div>

  <!-- Main Menu -->
  <div id="main-menu" class="hidden transition">
    <h2>Main Menu</h2>
    <button onclick="showChords()">View Chords</button>
    <button onclick="showPractice()">Practice Chords</button>
    <button onclick="showStrum()">Practice Strum</button>
    <a href="https://www.guitar-tabs-app.com/" target="_blank" class="download-btn">Download Tabs App</a>
  </div>

  <!-- Chords Section -->
  <div id="chords" class="hidden transition">
    <h2>Basic Chords</h2>
    <div class="chord-grid" id="chord-grid"></div>
    <button class="back-btn" onclick="goBack()">⬅ Back</button>
  </div>

  <!-- Practice Chords -->
  <div id="practice" class="hidden transition">
    <h2>Practice Chords (Random)</h2>
    <div id="practice-chord-display" style="font-size:2em; margin:20px;"></div>
    <button id="next-chord">Next Chord</button>
    <p id="practice-feedback"></p>
    <button class="back-btn" onclick="goBack()">⬅ Back</button>
  </div>

  <!-- Strum Practice -->
  <div id="strum" class="hidden transition">
    <h2>Practice Strum</h2>
    <div>
      <p id="song-pattern">Pattern: </p>
      <button id="start-mic">Start Mic Test</button>
      <p id="strum-feedback"></p>
      <button id="random-song">Random Song</button>
    </div>
    <button class="back-btn" onclick="goBack()">⬅ Back</button>
  </div>
</main>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const loginScreen = document.getElementById("login-screen");
  const mainMenu = document.getElementById("main-menu");
  const chords = document.getElementById("chords");
  const practice = document.getElementById("practice");
  const strum = document.getElementById("strum");
  const loginBtn = document.getElementById("login-btn");
  const darkToggle = document.getElementById("dark-toggle");

  darkToggle.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
    document.body.classList.toggle("light-mode");
  });

  loginBtn.addEventListener("click", () => {
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();
    if(username && password){
      loginScreen.classList.add("hidden");
      mainMenu.classList.remove("hidden");
    } else {
      alert("Please enter username and password!");
    }
  });

  function showChords(){ mainMenu.classList.add("hidden"); chords.classList.remove("hidden"); }
  function showPractice(){ mainMenu.classList.add("hidden"); practice.classList.remove("hidden"); nextPracticeChord(); }
  function showStrum(){ mainMenu.classList.add("hidden"); strum.classList.remove("hidden"); loadRandomSong(); }
  function goBack(){ chords.classList.add("hidden"); practice.classList.add("hidden"); strum.classList.add("hidden"); mainMenu.classList.remove("hidden"); }

  window.showChords = showChords;
  window.showPractice = showPractice;
  window.showStrum = showStrum;
  window.goBack = goBack;

  // Chord Grid (local images only)
  const localChords = ['c','a','d','g','e','em','am','cmaj7','dm','f','fsharp','fsharpm','b','bb','bm','csharpm','gsharpm'];
  const chordGrid = document.getElementById("chord-grid");
  localChords.forEach(chord => {
    const card = document.createElement("div");
    card.classList.add("chord-card");
    card.innerHTML = `<img src="image/${chord}.png" alt="${chord.toUpperCase()} chord" onerror="this.src='image/placeholder.png'"><p>${chord.toUpperCase()}</p>`;
    chordGrid.appendChild(card);
  });

  // Practice Chords Randomizer
  const practiceChords = localChords.map(c => c.toUpperCase());
  const practiceDisplay = document.getElementById("practice-chord-display");
  let currentPractice = "";
  function nextPracticeChord(){
    currentPractice = practiceChords[Math.floor(Math.random()*practiceChords.length)];
    practiceDisplay.textContent = currentPractice;
  }
  document.getElementById("next-chord").addEventListener("click", nextPracticeChord);

  // Strum Songs (dozens)
  const songs = [
    {name:"Huling El Bimbo", pattern:"DD UUDD DU"},
    {name:"Kahit Maputi Na Ang Buhok Ko", pattern:"DUD DUD"},
    {name:"Perfect", pattern:"DD UU DU"},
    {name:"14", pattern:"DD UDUDD DU"},
    {name:"Nothing Else Matters", pattern:"D D U U D U"},
    {name:"Let It Be", pattern:"D D U D U"},
    {name:"Imagine", pattern:"D U D U D"},
    {name:"Yesterday", pattern:"D D U U"},
    {name:"Stand By Me", pattern:"D U U D U"},
    {name:"Tears In Heaven", pattern:"D D U D U D"},
    {name:"Hotel California", pattern:"D U D D U"},
    {name:"Wonderwall", pattern:"D DU UDU"},
    {name:"Hey Jude", pattern:"D D D U D U"},
    {name:"Zombie", pattern:"D U D U D U"},
    {name:"Shape of You", pattern:"D D U U D"},
    {name:"Perfect Strum", pattern:"D U U D D U"},
  ];
  let currentSong;

  function loadRandomSong(){
    currentSong = songs[Math.floor(Math.random()*songs.length)];
    document.getElementById("song-pattern").textContent = `Song: ${currentSong.name} | Pattern: ${currentSong.pattern}`;
    document.getElementById("strum-feedback").textContent = "";
  }

  document.getElementById("random-song").addEventListener("click", loadRandomSong);

  // Mic test
  document.getElementById("start-mic").addEventListener("click", ()=>{
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
      navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {
        document.getElementById("strum-feedback").textContent = "Mic is active! Now try strumming.";
        stream.getTracks().forEach(track => track.stop());
      }).catch(err => {
        document.getElementById("strum-feedback").textContent = "Mic access denied.";
      });
    } else {
      document.getElementById("strum-feedback").textContent = "Mic not supported in this browser.";
    }
  });

});
</script>
</body>
</html>
