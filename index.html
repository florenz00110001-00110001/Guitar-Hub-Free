<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guitar Hub Trainer</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#111; color:white; text-align:center; transition:0.3s all; }
header { width:100%; background:#000; padding:10px 20px; display:flex; justify-content:space-between; align-items:center; position:fixed; top:0; left:0; z-index:1000; }
.logo { display:flex; align-items:center; font-weight:bold; font-size:1.6em; }
.logo span.guitar { color:white; }
.logo span.hub { color:black; background:orange; padding:4px 8px; border-radius:5px; margin-left:5px; }
main { padding-top:80px; transition:0.3s all; }
button { padding:12px 20px; margin:8px; background:orange; border:none; border-radius:8px; font-size:1em; cursor:pointer; transition:0.2s; }
button:hover { opacity:0.85; }
button.back-btn { background:#444; color:white; }
.hidden { display:none; }
.chord-grid { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; padding:20px; transition:0.3s all; }
.chord-card { background:#222; padding:10px; border-radius:10px; box-shadow:0 0 10px #000; width:120px; text-align:center; }
.chord-card img { width:100px; height:auto; }
.dark-mode { background:#111; color:white; }
.light-mode { background:white; color:black; }
.transition { transition:0.3s all; }
a.download-btn { display:inline-block; padding:12px 20px; margin:10px; background:green; color:white; text-decoration:none; border-radius:8px; }
</style>
</head>
<body class="dark-mode">

<header>
  <div class="logo"><span class="guitar">Guitar</span><span class="hub">Hub</span></div>
  <button id="dark-toggle">Toggle Dark Mode</button>
</header>

<main>
  <!-- Intro Screen -->
  <div id="intro-screen">
    <h1>Welcome to Guitar Trainer</h1>
    <button id="enter-btn">Enter</button>
  </div>

  <!-- Main Menu -->
  <div id="main-menu" class="hidden transition">
    <h2>Main Menu</h2>
    <button onclick="showChords()">View Chords</button>
    <button onclick="showPractice()">Practice Chords</button>
    <button onclick="showStrum()">Practice Strum</button>
    <button onclick="window.open('https://www.guitartuna.com/', '_blank')">Tune in using GuitarTuna!</button>
    <button onclick="showLearn()">Learn Songs</button>
  </div>

  <!-- Chords Section -->
  <div id="chords" class="hidden transition">
    <h2>Basic Chords</h2>
    <div class="chord-grid" id="chord-grid"></div>
    <button class="back-btn" onclick="goBack()">⬅ Back</button>
  </div>

  <!-- Practice Chords -->
  <div id="practice" class="hidden transition">
    <h2>Practice Chords (Random)</h2>
    <div id="practice-chord-display" style="font-size:2em; margin:20px;"></div>
    <button id="next-chord">Next Chord</button>
    <p id="practice-feedback"></p>
    <button class="back-btn" onclick="goBack()">⬅ Back</button>
  </div>

  <!-- Strum Practice -->
  <div id="strum" class="hidden transition">
    <h2>Practice Strum</h2>
    <div>
      <p id="song-pattern">Pattern: </p>
      <button id="start-mic">Start Mic Test</button>
      <p id="strum-feedback"></p>
      <button id="random-song">Random Song</button>
    </div>
    <button class="back-btn" onclick="goBack()">⬅ Back</button>
  </div>

  <!-- Learn Songs Replacement -->
  <div id="learn-song" class="hidden transition">
    <h2>Learn Songs</h2>
    <p>We currently don't have a full Learn Song function.</p>
    <a href="https://www.guitar-tabs-app.com/" target="_blank" class="download-btn">Download Tabs App</a>
    <button class="back-btn" onclick="goBack()">⬅ Back</button>
  </div>

</main>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const introScreen = document.getElementById("intro-screen");
  const mainMenu = document.getElementById("main-menu");
  const chords = document.getElementById("chords");
  const practice = document.getElementById("practice");
  const strum = document.getElementById("strum");
  const learn = document.getElementById("learn-song");
  const enterBtn = document.getElementById("enter-btn");
  const darkToggle = document.getElementById("dark-toggle");

  darkToggle.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
    document.body.classList.toggle("light-mode");
  });

  enterBtn.addEventListener("click", () => {
    introScreen.classList.add("hidden");
    mainMenu.classList.remove("hidden");
  });

  function showChords(){ mainMenu.classList.add("hidden"); chords.classList.remove("hidden"); }
  function showPractice(){ mainMenu.classList.add("hidden"); practice.classList.remove("hidden"); nextPracticeChord(); }
  function showStrum(){ mainMenu.classList.add("hidden"); strum.classList.remove("hidden"); loadRandomSong(); }
  function showLearn(){ mainMenu.classList.add("hidden"); learn.classList.remove("hidden"); }
  function goBack(){ chords.classList.add("hidden"); practice.classList.add("hidden"); strum.classList.add("hidden"); learn.classList.add("hidden"); mainMenu.classList.remove("hidden"); }

  window.showChords = showChords;
  window.showPractice = showPractice;
  window.showStrum = showStrum;
  window.showLearn = showLearn;
  window.goBack = goBack;

  // Chord Grid
  const localChords = ['c','a','d','g','e','em'];
  const chordGrid = document.getElementById("chord-grid");
  localChords.forEach(chord => {
    const card = document.createElement("div");
    card.classList.add("chord-card");
    card.innerHTML = `<img src="image/${chord}.png" alt="${chord.toUpperCase()} chord" onerror="this.src='image/placeholder.png'"><p>${chord.toUpperCase()}</p>`;
    chordGrid.appendChild(card);
  });
  const remainingChords = [
    {name:'Am', url:'https://i.imgur.com/0XxL5t9.png'},
    {name:'Cmaj7', url:'https://i.imgur.com/Zb8eE3N.png'},
    {name:'Dm', url:'https://i.imgur.com/7U7uFhM.png'},
    {name:'F', url:'https://i.imgur.com/8oQv2uH.png'},
    {name:'F#', url:'https://i.imgur.com/Txr1k8R.png'},
    {name:'F#m', url:'https://i.imgur.com/8HMTLPO.png'},
    {name:'B', url:'https://i.imgur.com/2e1yIuO.png'},
    {name:'Bb', url:'https://i.imgur.com/ftODlHz.png'},
    {name:'Bm', url:'https://i.imgur.com/xQ7FjNf.png'},
    {name:'C#m', url:'https://i.imgur.com/Io6Bq8D.png'},
    {name:'G#m', url:'https://i.imgur.com/Z2iX8qC.png'}
  ];
  remainingChords.forEach(chord => {
    const card = document.createElement("div");
    card.classList.add("chord-card");
    card.innerHTML = `<img src="${chord.url}" alt="${chord.name} chord" onerror="this.src='image/placeholder.png'"><p>${chord.name}</p>`;
    chordGrid.appendChild(card);
  });

  // Practice Chords Randomizer
  const practiceChords = localChords.concat(remainingChords.map(c=>c.name));
  const practiceDisplay = document.getElementById("practice-chord-display");
  const feedback = document.getElementById("practice-feedback");
